Linux Systems Administration
Step 1: Ensure/Double Check Permissions on Sensitive Files
1. Permissions on /etc/shadow should allow only root read and write access.

   * Command to inspect permissions: “ls - l shadow”

   * Command to set permissions (if needed): “sudo c[a]hmod shadow:root /etc” changes the group so only the root has read and write access.

      2. Permissions on /etc/gshadow should allow only root read and write access.

         * Command to inspect permissions: “ls -l gshadow”

         * Command to set permissions (if needed): “sudo chown root:root gshadow” changes the group so only the root has read and write access.

            3. Permissions on /etc/group should allow root read and write access, and allow everyone else read access only.

               * Command to inspect permissions: “ls -l group”

               * Command to set permissions (if needed): Not needed.

                  4. Permissions on /etc/passwd should allow root read and write access, and allow everyone else read access only.

                     * Command to inspect permissions: “ls -l passwd”

                     * Command to set permissions (if needed): Not needed.

Step 2: Create User Accounts
                        1. Add user accounts for sam, joe, amy, sara, and admin.

                           * Command to add each user account (include all five users): “sudo adduser (user)” for each user.
                           2. Ensure that only the admin has general sudo access.

                              * Command to add admin to the sudo group: “sudo usermod -aG sudo admin”
Step 3: Create User Group and Collaborative Folder
                              1. Add an engineers group to the system.

                                 * Command to add group: “sudo addgroup engineers”
                                 2. Add users sam, joe, amy, and sara to the managed group.

                                    * Command to add users to engineers group (include all four users): “sudo usermod -aG engineers sam amy joe sara”
                                    3. Create a shared folder for this group at /home/engineers.

                                       * Command to create the shared folder: “mkdir engineers” while in the home directory.
                                       4. Change ownership on the new engineers' shared folder to the engineers group.

                                          * Command to change ownership of engineer's shared folder to engineer group: “sudo chown :engineers /home/engineers”
Step 4: Lynis Auditing
                                          1. Command to install Lynis: “wget or curl” and the url for Lynis (https://cisofy.com/files/lynis-<version>.tar.gz) couldn’t find url within VM but through their site.

                                          2. Command to see documentation and instructions: “cat default.prf” which is a file within the lynis directory. A link is provided within this for the documentation “https://cisofy.com/documentation/lynis/” and “sudo show lynis commands” to show commands

                                          3. Command to run an audit: “sudo lynis audit system” 

                                          4. Provide a report from the Lynis output on what can be done to harden the system.

                                             * Screenshot of report output:
                                             *   Bonus
                                                1. Command to install chkrootkit: “sudo apt install chkrootkit -y”

                                                2. Command to see documentation and instructions: “man chkrootkit” shows the different options to run chkrootkit under or “sudo chkrootkit -h” 

                                                3. Command to run expert mode: “sudo chkrootkit -x” 

                                                4. Provide a report from the chrootkit output on what can be done to harden the system.

                                                   * Screenshot of end of sample output:


[a]set permissions not ownership